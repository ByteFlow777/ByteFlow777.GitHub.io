<!doctype html><html lang=en><head><meta charset=utf-8><meta name=generator content="Hugo 0.110.0"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Leon Li"><meta property="og:url" content="https://byteflow777.github.io/post/java/enum/"><link rel=canonical href=https://byteflow777.github.io/post/java/enum/><link rel=alternate type=application/atom+xml href=https://byteflow777.github.ioindex.xml title="Leon Li"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/byteflow777.github.io"},"articleSection":"post","name":"Java 枚举类型","headline":"Java 枚举类型","description":"枚举类型（enum type）是由一组常量组合而成\n在引入枚举类型之前，通常用一组 int 常量表示每种类型。\npublic class Color { private static final int RED = 1; private static final int GREEN = 2; private static final int BLACK = 3; } 用 int 常量表示的方法不具有类型安全性。方法只能接收 int 类型，不同 int 值表示不同的 Color，此时无法严格控制入参，很容易出现类型错误。\npublic void color(int color) { \/\/ do something } Java SE 1.5 版本引用了枚举类型，使用 enum 关键字修饰。在编译期间，编译器会对枚举类型进行修改和扩展。\n枚举常量（如：RED）会隐式使用 public static final 修饰（编译器修改），按照 Java 命名规范，所有名称都应该采用大写的形式。\npublic enum Color { RED, GREEN, BLACK; } 枚举常量可以额外增加属性，只需声明成员属性，并添加具有所有属性的构造器。","inLanguage":"en-US","author":"Leon Li","creator":"Leon Li","publisher":"Leon Li","accountablePerson":"Leon Li","copyrightHolder":"Leon Li","copyrightYear":"2023","datePublished":"2023-02-07 00:00:00 \u002b0000 UTC","dateModified":"2023-02-07 00:00:00 \u002b0000 UTC","url":"https:\/\/byteflow777.github.io\/post\/java\/enum\/","keywords":[]}</script><title>Java 枚举类型</title><meta property="og:title" content="Java 枚举类型"><meta property="og:type" content="article"><meta property="og:description" content="枚举类型（enum type）是由一组常量组合而成
在引入枚举类型之前，通常用一组 int 常量表示每种类型。
public class Color { private static final int RED = 1; private static final int GREEN = 2; private static final int BLACK = 3; } 用 int 常量表示的方法不具有类型安全性。方法只能接收 int 类型，不同 int 值表示不同的 Color，此时无法严格控制入参，很容易出现类型错误。
public void color(int color) { // do something } Java SE 1.5 版本引用了枚举类型，使用 enum 关键字修饰。在编译期间，编译器会对枚举类型进行修改和扩展。
枚举常量（如：RED）会隐式使用 public static final 修饰（编译器修改），按照 Java 命名规范，所有名称都应该采用大写的形式。
public enum Color { RED, GREEN, BLACK; } 枚举常量可以额外增加属性，只需声明成员属性，并添加具有所有属性的构造器。"><meta name=description content="枚举类型（enum type）是由一组常量组合而成
在引入枚举类型之前，通常用一组 int 常量表示每种类型。
public class Color { private static final int RED = 1; private static final int GREEN = 2; private static final int BLACK = 3; } 用 int 常量表示的方法不具有类型安全性。方法只能接收 int 类型，不同 int 值表示不同的 Color，此时无法严格控制入参，很容易出现类型错误。
public void color(int color) { // do something } Java SE 1.5 版本引用了枚举类型，使用 enum 关键字修饰。在编译期间，编译器会对枚举类型进行修改和扩展。
枚举常量（如：RED）会隐式使用 public static final 修饰（编译器修改），按照 Java 命名规范，所有名称都应该采用大写的形式。
public enum Color { RED, GREEN, BLACK; } 枚举常量可以额外增加属性，只需声明成员属性，并添加具有所有属性的构造器。"><meta property="og:locale" content><meta property="og:image" content><style>body{font-family:-apple-system,BlinkMacSystemFont,segoe ui,pingfang sc,hiragino sans gb,microsoft yahei,helvetica neue,Helvetica,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol;-webkit-font-smoothing:antialiased;margin:0 20px}article{max-width:800px;margin-left:auto;margin-right:auto}a{color:#4183c4;text-decoration:none}a:hover{color:#1a0dab;text-decoration:underline}li{margin-top:4px;margin-bottom:4px}.post-ads{margin:50px 0}.markdown-body{font-size:18px;max-width:100%}.markdown-body a{text-decoration:underline;text-decoration-color:#000}.markdown-body blockquote{margin:0;padding:0 .75em;color:#57606a;border-left:.25em solid #d0d7de}.markdown-body pre{padding:16px;overflow:auto;border-radius:10px}.markdown-body code{padding:.2em .4em;background-color:#f6f9ff;border-radius:6px}.markdown-body pre>code{padding:0;font-size:90%;background-color:inherit;border:0}.Chinese .markdown-body{line-height:200%}.site-date-catalog{font-size:2rem}.header-title{font-size:2rem;font-weight:700;margin-top:32px}.header-title a{text-decoration:none}.header-subtitle{color:#666}.header-items{margin:10px 0}.header-item{margin:0 5px}.header-line{width:100%;border-width:2px;border-color:#482936;border-style:solid none none none}.lang-switch{font-weight:600}#posts-list{min-height:600px}.posts-line{font-size:1.2rem;margin:12px 0}.posts-categories{font-size:.8rem;margin:auto;text-align:center}.posts-category{padding:3px 0;border:#000 2px solid;border-radius:5px}.site-footer{margin-top:50px}.site-footer-item{margin-right:12px}.post-content img{max-width:100%;display:block;margin:12px auto 0}.post-header{margin-bottom:30px}.post-title{font-size:2rem;font-weight:600}.post-tags{display:inline;font-weight:600;padding:2px 5px;margin-right:6px;border:#000 2px solid;border-radius:5px}.post-date{font-weight:800;font-style:italic}.post-author{float:right;font-weight:600}.page-content{min-height:60%}.post-content{margin-bottom:50px}.post-content p{}.related-content{border-width:3px;border-style:solid;border-color:#000;padding:0 10px;margin-bottom:50px;margin-top:100px}.related-content li{margin:10px 0}.taxonomy-term{font-size:3rem}.gallery-img{text-align:center}.gallery-img span{text-align:center}.gallery-img-desc{font-size:.8em;font-weight:800}#disqus_thread{position:relative}#disqus_thread:after{content:"";display:block;height:55px;width:100%;position:absolute;bottom:0;background:#fff}@media screen and (max-width:600px){.header-title,.header-subtitle,.header-items{text-align:center}.posts-line{font-size:16px}.markdown-body{font-size:16px}.post-title{font-size:2rem}.post-content p{letter-spacing:.05em}}@media screen and (max-width:48em){.posts-category{display:none}}</style><style>.container,.container-fluid{margin-right:auto;margin-left:auto}.container-fluid{padding-right:2rem;padding-left:2rem}.row{box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-ms-flex:0 1 auto;flex:initial;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-right:-.5rem;margin-left:-.5rem}.row.reverse{-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse}.col.reverse{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-direction:column-reverse;flex-direction:column-reverse}.col-xs,.col-xs-1,.col-xs-10,.col-xs-11,.col-xs-12,.col-xs-2,.col-xs-3,.col-xs-4,.col-xs-5,.col-xs-6,.col-xs-7,.col-xs-8,.col-xs-9,.col-xs-offset-0,.col-xs-offset-1,.col-xs-offset-10,.col-xs-offset-11,.col-xs-offset-12,.col-xs-offset-2,.col-xs-offset-3,.col-xs-offset-4,.col-xs-offset-5,.col-xs-offset-6,.col-xs-offset-7,.col-xs-offset-8,.col-xs-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-xs{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-xs-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-xs-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-xs-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-xs-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-xs-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-xs-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-xs-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-xs-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-xs-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-xs-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-xs-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-xs-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-xs-offset-0{margin-left:0}.col-xs-offset-1{margin-left:8.33333333%}.col-xs-offset-2{margin-left:16.66666667%}.col-xs-offset-3{margin-left:25%}.col-xs-offset-4{margin-left:33.33333333%}.col-xs-offset-5{margin-left:41.66666667%}.col-xs-offset-6{margin-left:50%}.col-xs-offset-7{margin-left:58.33333333%}.col-xs-offset-8{margin-left:66.66666667%}.col-xs-offset-9{margin-left:75%}.col-xs-offset-10{margin-left:83.33333333%}.col-xs-offset-11{margin-left:91.66666667%}.start-xs{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-xs{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-xs{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-xs{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-xs{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-xs{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-xs{-ms-flex-pack:distribute;justify-content:space-around}.between-xs{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-xs{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-xs{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}@media only screen and (min-width:48em){.container{width:49rem}.col-sm,.col-sm-1,.col-sm-10,.col-sm-11,.col-sm-12,.col-sm-2,.col-sm-3,.col-sm-4,.col-sm-5,.col-sm-6,.col-sm-7,.col-sm-8,.col-sm-9,.col-sm-offset-0,.col-sm-offset-1,.col-sm-offset-10,.col-sm-offset-11,.col-sm-offset-12,.col-sm-offset-2,.col-sm-offset-3,.col-sm-offset-4,.col-sm-offset-5,.col-sm-offset-6,.col-sm-offset-7,.col-sm-offset-8,.col-sm-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-sm{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-sm-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-sm-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-sm-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-sm-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-sm-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-sm-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-sm-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-sm-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-sm-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-sm-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-sm-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-sm-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-sm-offset-0{margin-left:0}.col-sm-offset-1{margin-left:8.33333333%}.col-sm-offset-2{margin-left:16.66666667%}.col-sm-offset-3{margin-left:25%}.col-sm-offset-4{margin-left:33.33333333%}.col-sm-offset-5{margin-left:41.66666667%}.col-sm-offset-6{margin-left:50%}.col-sm-offset-7{margin-left:58.33333333%}.col-sm-offset-8{margin-left:66.66666667%}.col-sm-offset-9{margin-left:75%}.col-sm-offset-10{margin-left:83.33333333%}.col-sm-offset-11{margin-left:91.66666667%}.start-sm{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-sm{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-sm{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-sm{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-sm{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-sm{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-sm{-ms-flex-pack:distribute;justify-content:space-around}.between-sm{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-sm{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-sm{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}}@media only screen and (min-width:64em){.container{width:65rem}.col-md,.col-md-1,.col-md-10,.col-md-11,.col-md-12,.col-md-2,.col-md-3,.col-md-4,.col-md-5,.col-md-6,.col-md-7,.col-md-8,.col-md-9,.col-md-offset-0,.col-md-offset-1,.col-md-offset-10,.col-md-offset-11,.col-md-offset-12,.col-md-offset-2,.col-md-offset-3,.col-md-offset-4,.col-md-offset-5,.col-md-offset-6,.col-md-offset-7,.col-md-offset-8,.col-md-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-md{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-md-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-md-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-md-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-md-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-md-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-md-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-md-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-md-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-md-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-md-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-md-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-md-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-md-offset-0{margin-left:0}.col-md-offset-1{margin-left:8.33333333%}.col-md-offset-2{margin-left:16.66666667%}.col-md-offset-3{margin-left:25%}.col-md-offset-4{margin-left:33.33333333%}.col-md-offset-5{margin-left:41.66666667%}.col-md-offset-6{margin-left:50%}.col-md-offset-7{margin-left:58.33333333%}.col-md-offset-8{margin-left:66.66666667%}.col-md-offset-9{margin-left:75%}.col-md-offset-10{margin-left:83.33333333%}.col-md-offset-11{margin-left:91.66666667%}.start-md{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-md{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-md{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-md{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-md{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-md{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-md{-ms-flex-pack:distribute;justify-content:space-around}.between-md{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-md{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-md{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}}@media only screen and (min-width:75em){.container{width:76rem}.col-lg,.col-lg-1,.col-lg-10,.col-lg-11,.col-lg-12,.col-lg-2,.col-lg-3,.col-lg-4,.col-lg-5,.col-lg-6,.col-lg-7,.col-lg-8,.col-lg-9,.col-lg-offset-0,.col-lg-offset-1,.col-lg-offset-10,.col-lg-offset-11,.col-lg-offset-12,.col-lg-offset-2,.col-lg-offset-3,.col-lg-offset-4,.col-lg-offset-5,.col-lg-offset-6,.col-lg-offset-7,.col-lg-offset-8,.col-lg-offset-9{box-sizing:border-box;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:none;padding-right:.5rem;padding-left:.5rem}.col-lg{-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-ms-flex-preferred-size:0;flex-basis:0;max-width:100%}.col-lg-1{-ms-flex-preferred-size:8.33333333%;flex-basis:8.33333333%;max-width:8.33333333%}.col-lg-2{-ms-flex-preferred-size:16.66666667%;flex-basis:16.66666667%;max-width:16.66666667%}.col-lg-3{-ms-flex-preferred-size:25%;flex-basis:25%;max-width:25%}.col-lg-4{-ms-flex-preferred-size:33.33333333%;flex-basis:33.33333333%;max-width:33.33333333%}.col-lg-5{-ms-flex-preferred-size:41.66666667%;flex-basis:41.66666667%;max-width:41.66666667%}.col-lg-6{-ms-flex-preferred-size:50%;flex-basis:50%;max-width:50%}.col-lg-7{-ms-flex-preferred-size:58.33333333%;flex-basis:58.33333333%;max-width:58.33333333%}.col-lg-8{-ms-flex-preferred-size:66.66666667%;flex-basis:66.66666667%;max-width:66.66666667%}.col-lg-9{-ms-flex-preferred-size:75%;flex-basis:75%;max-width:75%}.col-lg-10{-ms-flex-preferred-size:83.33333333%;flex-basis:83.33333333%;max-width:83.33333333%}.col-lg-11{-ms-flex-preferred-size:91.66666667%;flex-basis:91.66666667%;max-width:91.66666667%}.col-lg-12{-ms-flex-preferred-size:100%;flex-basis:100%;max-width:100%}.col-lg-offset-0{margin-left:0}.col-lg-offset-1{margin-left:8.33333333%}.col-lg-offset-2{margin-left:16.66666667%}.col-lg-offset-3{margin-left:25%}.col-lg-offset-4{margin-left:33.33333333%}.col-lg-offset-5{margin-left:41.66666667%}.col-lg-offset-6{margin-left:50%}.col-lg-offset-7{margin-left:58.33333333%}.col-lg-offset-8{margin-left:66.66666667%}.col-lg-offset-9{margin-left:75%}.col-lg-offset-10{margin-left:83.33333333%}.col-lg-offset-11{margin-left:91.66666667%}.start-lg{-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;text-align:start}.center-lg{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.end-lg{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;text-align:end}.top-lg{-webkit-box-align:start;-ms-flex-align:start;align-items:flex-start}.middle-lg{-webkit-box-align:center;-ms-flex-align:center;align-items:center}.bottom-lg{-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end}.around-lg{-ms-flex-pack:distribute;justify-content:space-around}.between-lg{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.first-lg{-webkit-box-ordinal-group:0;-ms-flex-order:-1;order:-1}.last-lg{-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}}</style><link href=/index.xml rel=alternate type=application/rss+xml title="Leon Li"><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css?family=Bree+Serif|Bungee+Shade" rel=stylesheet></head><body><article class=post id=article><div class=row><div class=col-xs-12><div class=site-header></div><header class=post-header><h1 class=post-title>Java 枚举类型</h1></header><div class="post-content markdown-body"><blockquote><p>枚举类型（enum type）是由一组常量组合而成</p></blockquote><p>在引入枚举类型之前，通常用一组 int 常量表示每种类型。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#ff5c57>public</span> <span style=color:#ff5c57>class</span> <span style=color:#f3f99d>Color</span> <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>private</span> <span style=color:#ff5c57>static</span> <span style=color:#ff5c57>final</span> <span style=color:#9aedfe>int</span> RED <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>1</span><span style=color:#ff6ac1>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>private</span> <span style=color:#ff5c57>static</span> <span style=color:#ff5c57>final</span> <span style=color:#9aedfe>int</span> GREEN <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>2</span><span style=color:#ff6ac1>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>private</span> <span style=color:#ff5c57>static</span> <span style=color:#ff5c57>final</span> <span style=color:#9aedfe>int</span> BLACK <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>3</span><span style=color:#ff6ac1>;</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>}</span>
</span></span></code></pre></div><p>用 int 常量表示的方法不具有类型安全性。方法只能接收 int 类型，不同 int 值表示不同的 <code>Color</code>，此时无法严格控制入参，很容易出现类型错误。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#ff5c57>public</span> <span style=color:#9aedfe>void</span> <span style=color:#57c7ff>color</span><span style=color:#ff6ac1>(</span><span style=color:#9aedfe>int</span> color<span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>    <span style=color:#78787e>// do something
</span></span></span><span style=display:flex><span><span style=color:#78787e></span><span style=color:#ff6ac1>}</span>
</span></span></code></pre></div><p>Java SE 1.5 版本引用了枚举类型，使用 <code>enum</code> 关键字修饰。在编译期间，编译器会对枚举类型进行修改和扩展。</p><p>枚举常量（如：RED）会隐式使用 <code>public static final</code> 修饰（编译器修改），按照 Java 命名规范，所有名称都应该采用大写的形式。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#ff5c57>public</span> <span style=color:#ff5c57>enum</span> Color <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>    RED<span style=color:#ff6ac1>,</span> GREEN<span style=color:#ff6ac1>,</span> BLACK<span style=color:#ff6ac1>;</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>}</span>
</span></span></code></pre></div><p>枚举常量可以额外增加属性，只需声明成员属性，并添加具有所有属性的构造器。</p><p>枚举常量是不可变的，因此，推荐使用 final 和 private 修饰成员属性。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#ff5c57>public</span> <span style=color:#ff5c57>enum</span> Color <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>    RED<span style=color:#ff6ac1>(</span><span style=color:#5af78e>&#34;#FF0000&#34;</span><span style=color:#ff6ac1>,</span> <span style=color:#5af78e>&#34;红色&#34;</span><span style=color:#ff6ac1>),</span>
</span></span><span style=display:flex><span>    GREEN<span style=color:#ff6ac1>(</span><span style=color:#5af78e>&#34;#008000&#34;</span><span style=color:#ff6ac1>,</span> <span style=color:#5af78e>&#34;绿色&#34;</span><span style=color:#ff6ac1>),</span>
</span></span><span style=display:flex><span>    BLACK<span style=color:#ff6ac1>(</span><span style=color:#5af78e>&#34;#000000&#34;</span><span style=color:#ff6ac1>,</span> <span style=color:#5af78e>&#34;黑色&#34;</span><span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>private</span> <span style=color:#ff5c57>final</span> String rgb<span style=color:#ff6ac1>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>private</span> <span style=color:#ff5c57>final</span> String name<span style=color:#ff6ac1>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Color<span style=color:#ff6ac1>(</span>String rgb<span style=color:#ff6ac1>,</span> String name<span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>this</span><span style=color:#ff6ac1>.</span><span style=color:#57c7ff>rgb</span> <span style=color:#ff6ac1>=</span> rgb<span style=color:#ff6ac1>;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>this</span><span style=color:#ff6ac1>.</span><span style=color:#57c7ff>name</span> <span style=color:#ff6ac1>=</span> name<span style=color:#ff6ac1>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>}</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>}</span>
</span></span></code></pre></div><h2 id=常用方法>常用方法</h2><blockquote><p>values() 和 valueOf(String name) 方法都由编译器在编译期间生成</p></blockquote><p>通过 <code>values()</code> 方法获取到当前枚举类型内声明的所有枚举常量，会按照声明的顺序返回数组。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>Color<span style=color:#ff6ac1>[]</span> values <span style=color:#ff6ac1>=</span> Color<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>values</span><span style=color:#ff6ac1>();</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>for</span> <span style=color:#ff6ac1>(</span>Color color <span style=color:#ff6ac1>:</span> values<span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>    System<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>out</span><span style=color:#ff6ac1>.</span><span style=color:#57c7ff>println</span><span style=color:#ff6ac1>(</span>color<span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>}</span>
</span></span></code></pre></div><p>通过 <code>valueOf(String name)</code> 返回具有指定名称的枚举常量。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>Color red <span style=color:#ff6ac1>=</span> Color<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>valueOf</span><span style=color:#ff6ac1>(</span><span style=color:#5af78e>&#34;RED&#34;</span><span style=color:#ff6ac1>);</span>
</span></span></code></pre></div><p>通过 <code>ordinal()</code> 方法可以获取与枚举常量相关联的 int 值，该值是在枚举类型内声明的位置（从 0 开始）。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#ff6ac1>for</span> <span style=color:#ff6ac1>(</span>Operation op <span style=color:#ff6ac1>:</span> Operation<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>values</span><span style=color:#ff6ac1>())</span> <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>    <span style=color:#9aedfe>int</span> ord <span style=color:#ff6ac1>=</span> op<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>ordinal</span><span style=color:#ff6ac1>();</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>}</span>
</span></span></code></pre></div><p>应该尽量避免直接使用关联的值，当新增或删除枚举常量后，会导致其它枚举常量的关联值发生变化。该方法设计的目的是供 <code>EnumMap</code> 和 <code>EnumSet</code> 使用。</p><p>我们可以通过位置相对大小来确定额外的信息，如：根据声明位置的大小判断是否具有管理员权限。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#ff5c57>public</span> <span style=color:#ff5c57>enum</span> Role <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>    USER<span style=color:#ff6ac1>,</span> VIP<span style=color:#ff6ac1>,</span> ADMIN<span style=color:#ff6ac1>,</span> SUPER_ADMIN<span style=color:#ff6ac1>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>public</span> <span style=color:#9aedfe>boolean</span> <span style=color:#57c7ff>hasAdminRole</span><span style=color:#ff6ac1>(</span>Role role<span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>if</span> <span style=color:#ff6ac1>(</span>role <span style=color:#ff6ac1>==</span> <span style=color:#ff6ac1>null</span><span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>return</span> <span style=color:#ff6ac1>false</span><span style=color:#ff6ac1>;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>return</span> role<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>ordinal</span><span style=color:#ff6ac1>()</span> <span style=color:#ff6ac1>&gt;=</span> Role<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>ADMIN</span><span style=color:#ff6ac1>.</span><span style=color:#57c7ff>ordinal</span><span style=color:#ff6ac1>();</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>}</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>}</span>
</span></span></code></pre></div><h2 id=方法绑定>方法绑定</h2><p>当我们需要将不同的方法与每个枚举常量关联起来时，常见的做法是使用 <code>switch</code> 进行判断。</p><p>当在枚举中添加新的类型时，很容易忘记在 <code>color</code> 方法中添加新的分支。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#ff5c57>public</span> <span style=color:#9aedfe>void</span> <span style=color:#57c7ff>color</span><span style=color:#ff6ac1>(</span>Color color<span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>switch</span> <span style=color:#ff6ac1>(</span>color<span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>case</span> RED <span style=color:#ff6ac1>-&gt;</span> System<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>out</span><span style=color:#ff6ac1>.</span><span style=color:#57c7ff>println</span><span style=color:#ff6ac1>(</span><span style=color:#5af78e>&#34;red&#34;</span><span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>case</span> GREEN <span style=color:#ff6ac1>-&gt;</span> System<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>out</span><span style=color:#ff6ac1>.</span><span style=color:#57c7ff>println</span><span style=color:#ff6ac1>(</span><span style=color:#5af78e>&#34;green&#34;</span><span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>case</span> BLACK <span style=color:#ff6ac1>-&gt;</span> System<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>out</span><span style=color:#ff6ac1>.</span><span style=color:#57c7ff>println</span><span style=color:#ff6ac1>(</span><span style=color:#5af78e>&#34;black&#34;</span><span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>}</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>throw</span> <span style=color:#ff6ac1>new</span> IllegalArgumentException<span style=color:#ff6ac1>(</span><span style=color:#5af78e>&#34;Unknown color&#34;</span><span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>}</span>
</span></span></code></pre></div><p>Java SE 1.6 版本引入了类主体（class body），可以将不同方法与枚举关联起来。</p><p>当枚举中添加新的类型而不添加类主体，编译器会拒绝编译。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#ff5c57>enum</span> Operation <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>    PLUS <span style=color:#ff6ac1>{</span> <span style=color:#9aedfe>double</span> <span style=color:#57c7ff>eval</span><span style=color:#ff6ac1>(</span><span style=color:#9aedfe>double</span> x<span style=color:#ff6ac1>,</span> <span style=color:#9aedfe>double</span> y<span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>{</span> <span style=color:#ff6ac1>return</span> x <span style=color:#ff6ac1>+</span> y<span style=color:#ff6ac1>;</span> <span style=color:#ff6ac1>}</span> <span style=color:#ff6ac1>},</span>
</span></span><span style=display:flex><span>    MINUS <span style=color:#ff6ac1>{</span> <span style=color:#9aedfe>double</span> <span style=color:#57c7ff>eval</span><span style=color:#ff6ac1>(</span><span style=color:#9aedfe>double</span> x<span style=color:#ff6ac1>,</span> <span style=color:#9aedfe>double</span> y<span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>{</span> <span style=color:#ff6ac1>return</span> x <span style=color:#ff6ac1>-</span> y<span style=color:#ff6ac1>;</span> <span style=color:#ff6ac1>}</span> <span style=color:#ff6ac1>},</span>
</span></span><span style=display:flex><span>    TIMES <span style=color:#ff6ac1>{</span> <span style=color:#9aedfe>double</span> <span style=color:#57c7ff>eval</span><span style=color:#ff6ac1>(</span><span style=color:#9aedfe>double</span> x<span style=color:#ff6ac1>,</span> <span style=color:#9aedfe>double</span> y<span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>{</span> <span style=color:#ff6ac1>return</span> x <span style=color:#ff6ac1>*</span> y<span style=color:#ff6ac1>;</span> <span style=color:#ff6ac1>}</span> <span style=color:#ff6ac1>},</span>
</span></span><span style=display:flex><span>    DIVIDED_BY <span style=color:#ff6ac1>{</span> <span style=color:#9aedfe>double</span> <span style=color:#57c7ff>eval</span><span style=color:#ff6ac1>(</span><span style=color:#9aedfe>double</span> x<span style=color:#ff6ac1>,</span> <span style=color:#9aedfe>double</span> y<span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>{</span> <span style=color:#ff6ac1>return</span> x <span style=color:#ff6ac1>/</span> y<span style=color:#ff6ac1>;</span> <span style=color:#ff6ac1>}</span> <span style=color:#ff6ac1>};</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#78787e>// Each constant supports an arithmetic operation
</span></span></span><span style=display:flex><span><span style=color:#78787e></span>    <span style=color:#ff5c57>abstract</span> <span style=color:#9aedfe>double</span> <span style=color:#57c7ff>eval</span><span style=color:#ff6ac1>(</span><span style=color:#9aedfe>double</span> x<span style=color:#ff6ac1>,</span> <span style=color:#9aedfe>double</span> y<span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>}</span>
</span></span></code></pre></div><p>编译后枚举类型内的每个类主体都会生成一个独立类。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>Operation$1.class
</span></span><span style=display:flex><span>Operation$2.class
</span></span><span style=display:flex><span>Operation$3.class
</span></span><span style=display:flex><span>Operation$4.class
</span></span></code></pre></div><p>通过 javap 命令反编译生成的字节码文件。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#ff5c57>enum</span> Operation$1 <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>private</span> <span style=color:#57c7ff>Operation$1</span><span style=color:#ff6ac1>()</span> <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#9aedfe>double</span> <span style=color:#57c7ff>eval</span><span style=color:#ff6ac1>(</span><span style=color:#9aedfe>double</span> var1<span style=color:#ff6ac1>,</span> <span style=color:#9aedfe>double</span> var3<span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>return</span> var1 <span style=color:#ff6ac1>+</span> var3<span style=color:#ff6ac1>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>}</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>}</span>
</span></span></code></pre></div><p>Java 8 之后可以结合 lambda 表达式进行简化。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#ff6ac1>import</span> java.util.function.BiFunction<span style=color:#ff6ac1>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ff5c57>enum</span> Operation <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    ADD<span style=color:#ff6ac1>((</span>x<span style=color:#ff6ac1>,</span> y<span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>-&gt;</span> x <span style=color:#ff6ac1>+</span> y<span style=color:#ff6ac1>),</span>
</span></span><span style=display:flex><span>    SUBTRACT<span style=color:#ff6ac1>((</span>x<span style=color:#ff6ac1>,</span> y<span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>-&gt;</span> x <span style=color:#ff6ac1>-</span> y<span style=color:#ff6ac1>),</span>
</span></span><span style=display:flex><span>    MULTIPLY<span style=color:#ff6ac1>((</span>x<span style=color:#ff6ac1>,</span> y<span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>-&gt;</span> x <span style=color:#ff6ac1>*</span> y<span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>private</span> <span style=color:#ff5c57>final</span> BiFunction<span style=color:#ff6ac1>&lt;</span>Integer<span style=color:#ff6ac1>,</span> Integer<span style=color:#ff6ac1>,</span> Integer<span style=color:#ff6ac1>&gt;</span> operation<span style=color:#ff6ac1>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    Operation<span style=color:#ff6ac1>(</span>BiFunction<span style=color:#ff6ac1>&lt;</span>Integer<span style=color:#ff6ac1>,</span> Integer<span style=color:#ff6ac1>,</span> Integer<span style=color:#ff6ac1>&gt;</span> operation<span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>this</span><span style=color:#ff6ac1>.</span><span style=color:#57c7ff>operation</span> <span style=color:#ff6ac1>=</span> operation<span style=color:#ff6ac1>;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>public</span> <span style=color:#9aedfe>int</span> <span style=color:#57c7ff>apply</span><span style=color:#ff6ac1>(</span><span style=color:#9aedfe>int</span> x<span style=color:#ff6ac1>,</span> <span style=color:#9aedfe>int</span> y<span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>return</span> operation<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>apply</span><span style=color:#ff6ac1>(</span>x<span style=color:#ff6ac1>,</span> y<span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>}</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>}</span>
</span></span></code></pre></div><h2 id=比较>比较</h2><p>如 JLS 所说，保证枚举类型只会被实例化一次，采取以下三种方法确保枚举类型无法被实例化多次。</p><ol><li><code>Enum</code> 类中继承自 Object 类的 <code>clone</code> 方法会被设置为 final，无法重写。</li><li>禁止利用反射方法实例化。</li><li>对于序列化机制的特殊处理，确保不会通过反序列化实例化。</li></ol><p>基于以上机制，我们可以直接使用 == 比较枚举常量，<code>Enum</code> 类中的 <code>equals</code> 方法也是直接采用 == 比较。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#78787e>// java.lang.Enum#equals
</span></span></span><span style=display:flex><span><span style=color:#78787e></span><span style=color:#ff5c57>public</span> <span style=color:#ff5c57>final</span> <span style=color:#9aedfe>boolean</span> <span style=color:#57c7ff>equals</span><span style=color:#ff6ac1>(</span>Object other<span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>return</span> <span style=color:#ff6ac1>this</span><span style=color:#ff6ac1>==</span>other<span style=color:#ff6ac1>;</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>}</span>
</span></span></code></pre></div><p>推荐直接使用 == 判断枚举常量是否相同，不会发生空指针异常。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>Color c <span style=color:#ff6ac1>=</span> <span style=color:#ff6ac1>null</span><span style=color:#ff6ac1>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#9aedfe>boolean</span> b1 <span style=color:#ff6ac1>=</span> c<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>equals</span><span style=color:#ff6ac1>(</span>Color<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>BLACK</span><span style=color:#ff6ac1>);</span> <span style=color:#78787e>// NPE
</span></span></span><span style=display:flex><span><span style=color:#78787e></span><span style=color:#9aedfe>boolean</span> b2 <span style=color:#ff6ac1>=</span> <span style=color:#ff6ac1>(</span>c <span style=color:#ff6ac1>==</span> Color<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>BLACK</span><span style=color:#ff6ac1>);</span>    <span style=color:#78787e>// false
</span></span></span></code></pre></div><h2 id=enum-类>Enum 类</h2><p>Java 中所有的枚举类型都会隐式的继承 <code>java.lang.Enum</code> 类。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#ff5c57>public</span> <span style=color:#ff5c57>abstract</span> <span style=color:#ff5c57>class</span> <span style=color:#f3f99d>Enum</span><span style=color:#ff6ac1>&lt;</span>E <span style=color:#ff5c57>extends</span> Enum<span style=color:#ff6ac1>&lt;</span>E<span style=color:#ff6ac1>&gt;&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#ff5c57>implements</span> Constable<span style=color:#ff6ac1>,</span> Comparable<span style=color:#ff6ac1>&lt;</span>E<span style=color:#ff6ac1>&gt;,</span> Serializable 
</span></span></code></pre></div><h2 id=枚举集合>枚举集合</h2><h3 id=enummap>EnumMap</h3><p><code>EnumMap</code> 只能用于存放一种枚举类型，在构造器中必须指定存放的枚举类型。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>Map<span style=color:#ff6ac1>&lt;</span>Color<span style=color:#ff6ac1>,</span> String<span style=color:#ff6ac1>&gt;</span> enumMap <span style=color:#ff6ac1>=</span> <span style=color:#ff6ac1>new</span> EnumMap<span style=color:#ff6ac1>&lt;&gt;(</span>Color<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>class</span><span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span>enumMap<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>put</span><span style=color:#ff6ac1>(</span>Color<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>RED</span><span style=color:#ff6ac1>,</span> <span style=color:#5af78e>&#34;red&#34;</span><span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span>enumMap<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>put</span><span style=color:#ff6ac1>(</span>Color<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>GREEN</span><span style=color:#ff6ac1>,</span> <span style=color:#5af78e>&#34;green&#34;</span><span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span>enumMap<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>put</span><span style=color:#ff6ac1>(</span>Color<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>BLACK</span><span style=color:#ff6ac1>,</span> <span style=color:#5af78e>&#34;black&#34;</span><span style=color:#ff6ac1>);</span>
</span></span></code></pre></div><p><code>EnumMap</code> 内部维护了 <code>vals</code> 数组，长度为给定的枚举类型内部枚举常量的数量。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#ff5c57>private</span> <span style=color:#ff5c57>transient</span> Object<span style=color:#ff6ac1>[]</span> vals<span style=color:#ff6ac1>;</span>
</span></span></code></pre></div><p><code>put</code> 方法直接通过 <code>ordinal()</code> 算出索引，不需要通过 <code>hashCode()</code> 计算。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#ff5c57>public</span> V <span style=color:#57c7ff>put</span><span style=color:#ff6ac1>(</span>K key<span style=color:#ff6ac1>,</span> V value<span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>    typeCheck<span style=color:#ff6ac1>(</span>key<span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#9aedfe>int</span> index <span style=color:#ff6ac1>=</span> key<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>ordinal</span><span style=color:#ff6ac1>();</span>
</span></span><span style=display:flex><span>    Object oldValue <span style=color:#ff6ac1>=</span> vals<span style=color:#ff6ac1>[</span>index<span style=color:#ff6ac1>];</span>
</span></span><span style=display:flex><span>    vals<span style=color:#ff6ac1>[</span>index<span style=color:#ff6ac1>]</span> <span style=color:#ff6ac1>=</span> maskNull<span style=color:#ff6ac1>(</span>value<span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>if</span> <span style=color:#ff6ac1>(</span>oldValue <span style=color:#ff6ac1>==</span> <span style=color:#ff6ac1>null</span><span style=color:#ff6ac1>)</span>
</span></span><span style=display:flex><span>        size<span style=color:#ff6ac1>++;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>return</span> unmaskNull<span style=color:#ff6ac1>(</span>oldValue<span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>}</span>
</span></span></code></pre></div><h3 id=enumset>EnumSet</h3><p><code>EnumSet</code> 同样只能用于存放一种枚举类型，通过 <code>noneOf(Class&lt;E> elementType)</code>、<code>allOf(Class&lt;E> elementType)</code> 和 <code>of(...)</code> 等工厂方法创建。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>Set<span style=color:#ff6ac1>&lt;</span>Color<span style=color:#ff6ac1>&gt;</span> enumSet <span style=color:#ff6ac1>=</span> EnumSet<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>noneOf</span><span style=color:#ff6ac1>(</span>Color<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>class</span><span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span>enumSet<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>add</span><span style=color:#ff6ac1>(</span>Color<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>RED</span><span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span>enumSet<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>add</span><span style=color:#ff6ac1>(</span>Color<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>GREEN</span><span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span>enumSet<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>add</span><span style=color:#ff6ac1>(</span>Color<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>BLACK</span><span style=color:#ff6ac1>);</span>
</span></span></code></pre></div><p><code>EnumSet</code> 为抽象类，根据枚举常量的数量提供了两种不同子类，当枚举常量的数量小于等于 64 时使用 <code>RegularEnumSet</code>，其他数量采用 <code>JumboEnumSet</code>。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#ff5c57>public</span> <span style=color:#ff5c57>static</span> <span style=color:#ff6ac1>&lt;</span>E <span style=color:#ff5c57>extends</span> Enum<span style=color:#ff6ac1>&lt;</span>E<span style=color:#ff6ac1>&gt;&gt;</span> EnumSet<span style=color:#ff6ac1>&lt;</span>E<span style=color:#ff6ac1>&gt;</span> <span style=color:#57c7ff>noneOf</span><span style=color:#ff6ac1>(</span>Class<span style=color:#ff6ac1>&lt;</span>E<span style=color:#ff6ac1>&gt;</span> elementType<span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>    Enum<span style=color:#ff6ac1>&lt;?&gt;[]</span> universe <span style=color:#ff6ac1>=</span> getUniverse<span style=color:#ff6ac1>(</span>elementType<span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>if</span> <span style=color:#ff6ac1>(</span>universe <span style=color:#ff6ac1>==</span> <span style=color:#ff6ac1>null</span><span style=color:#ff6ac1>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>throw</span> <span style=color:#ff6ac1>new</span> ClassCastException<span style=color:#ff6ac1>(</span>elementType <span style=color:#ff6ac1>+</span> <span style=color:#5af78e>&#34; not an enum&#34;</span><span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>if</span> <span style=color:#ff6ac1>(</span>universe<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>length</span> <span style=color:#ff6ac1>&lt;=</span> <span style=color:#ff9f43>64</span><span style=color:#ff6ac1>)</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>return</span> <span style=color:#ff6ac1>new</span> RegularEnumSet<span style=color:#ff6ac1>&lt;&gt;(</span>elementType<span style=color:#ff6ac1>,</span> universe<span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>else</span>
</span></span><span style=display:flex><span>        <span style=color:#ff6ac1>return</span> <span style=color:#ff6ac1>new</span> JumboEnumSet<span style=color:#ff6ac1>&lt;&gt;(</span>elementType<span style=color:#ff6ac1>,</span> universe<span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>}</span>
</span></span></code></pre></div><h4 id=regularenumset>RegularEnumSet</h4><p><code>RegularEnumSet</code> 直接采用位图，利用 <code>long</code> 类型的 <code>elements</code> 记录是否保存有某个枚举常量。</p><p>因为 <code>long</code> 类型共 8 个字节，共 64 位，因此，最多保存 64 个枚举常量。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#ff5c57>private</span> <span style=color:#9aedfe>long</span> elements <span style=color:#ff6ac1>=</span> <span style=color:#ff9f43>0</span>L<span style=color:#ff6ac1>;</span>
</span></span></code></pre></div><p><code>add</code> 方法通过或运算将 <code>elements</code> 第 <code>ordinal()</code> 位的二进制设置为 1，代表已经添加过该枚举常量。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#ff5c57>public</span> <span style=color:#9aedfe>boolean</span> <span style=color:#57c7ff>add</span><span style=color:#ff6ac1>(</span>E e<span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>    typeCheck<span style=color:#ff6ac1>(</span>e<span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#9aedfe>long</span> oldElements <span style=color:#ff6ac1>=</span> elements<span style=color:#ff6ac1>;</span>
</span></span><span style=display:flex><span>    elements <span style=color:#ff6ac1>|=</span> <span style=color:#ff6ac1>(</span><span style=color:#ff9f43>1L</span> <span style=color:#ff6ac1>&lt;&lt;</span> <span style=color:#ff6ac1>((</span>Enum<span style=color:#ff6ac1>&lt;?&gt;)</span>e<span style=color:#ff6ac1>).</span><span style=color:#57c7ff>ordinal</span><span style=color:#ff6ac1>());</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>return</span> elements <span style=color:#ff6ac1>!=</span> oldElements<span style=color:#ff6ac1>;</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>}</span>
</span></span></code></pre></div><h4 id=jumboenumset>JumboEnumSet</h4><p>为保存含有更多枚举常量的枚举类型，<code>JumboEnumSet</code> 采用 <code>elements[]</code> 数组。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#ff5c57>private</span> <span style=color:#9aedfe>long</span> elements<span style=color:#ff6ac1>[];</span>
</span></span></code></pre></div><p><code>>>></code> 为逻辑右移，不考虑符号位，<code>a >>> 6</code> 相当于 <code>a / (2^6)</code>。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span>JumboEnumSet<span style=color:#ff6ac1>(</span>Class<span style=color:#ff6ac1>&lt;</span>E<span style=color:#ff6ac1>&gt;</span>elementType<span style=color:#ff6ac1>,</span> Enum<span style=color:#ff6ac1>&lt;?&gt;[]</span> universe<span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>    <span style=color:#ff5c57>super</span><span style=color:#ff6ac1>(</span>elementType<span style=color:#ff6ac1>,</span> universe<span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span>    elements <span style=color:#ff6ac1>=</span> <span style=color:#ff6ac1>new</span> <span style=color:#9aedfe>long</span><span style=color:#ff6ac1>[(</span>universe<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>length</span> <span style=color:#ff6ac1>+</span> <span style=color:#ff9f43>63</span><span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>&gt;&gt;&gt;</span> <span style=color:#ff9f43>6</span><span style=color:#ff6ac1>];</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>}</span>
</span></span></code></pre></div><p>相比于 <code>RegularEnumSet</code> 类的 <code>add</code> 方法，<code>JumboEnumSet</code> 仅仅多了一步计算数组索引的操作。</p><div class=highlight><pre tabindex=0 style=color:#e2e4e5;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Java data-lang=Java><span style=display:flex><span><span style=color:#ff5c57>public</span> <span style=color:#9aedfe>boolean</span> <span style=color:#57c7ff>add</span><span style=color:#ff6ac1>(</span>E e<span style=color:#ff6ac1>)</span> <span style=color:#ff6ac1>{</span>
</span></span><span style=display:flex><span>    typeCheck<span style=color:#ff6ac1>(</span>e<span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#9aedfe>int</span> eOrdinal <span style=color:#ff6ac1>=</span> e<span style=color:#ff6ac1>.</span><span style=color:#57c7ff>ordinal</span><span style=color:#ff6ac1>();</span>
</span></span><span style=display:flex><span>    <span style=color:#9aedfe>int</span> eWordNum <span style=color:#ff6ac1>=</span> eOrdinal <span style=color:#ff6ac1>&gt;&gt;&gt;</span> <span style=color:#ff9f43>6</span><span style=color:#ff6ac1>;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#9aedfe>long</span> oldElements <span style=color:#ff6ac1>=</span> elements<span style=color:#ff6ac1>[</span>eWordNum<span style=color:#ff6ac1>];</span>
</span></span><span style=display:flex><span>    elements<span style=color:#ff6ac1>[</span>eWordNum<span style=color:#ff6ac1>]</span> <span style=color:#ff6ac1>|=</span> <span style=color:#ff6ac1>(</span><span style=color:#ff9f43>1L</span> <span style=color:#ff6ac1>&lt;&lt;</span> eOrdinal<span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span>    <span style=color:#9aedfe>boolean</span> result <span style=color:#ff6ac1>=</span> <span style=color:#ff6ac1>(</span>elements<span style=color:#ff6ac1>[</span>eWordNum<span style=color:#ff6ac1>]</span> <span style=color:#ff6ac1>!=</span> oldElements<span style=color:#ff6ac1>);</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>if</span> <span style=color:#ff6ac1>(</span>result<span style=color:#ff6ac1>)</span>
</span></span><span style=display:flex><span>        size<span style=color:#ff6ac1>++;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff6ac1>return</span> result<span style=color:#ff6ac1>;</span>
</span></span><span style=display:flex><span><span style=color:#ff6ac1>}</span>
</span></span></code></pre></div><h2 id=总结>总结</h2><ol><li>枚举类型没有可以访问的构造器，因此，不可以实例化。且保证枚举类型只会被实例化一次。</li><li>枚举类型不可继承，因为枚举类型默认会继承 <code>Enum</code> 类，且 Java 只支持单继承。</li><li>枚举类型可以实现接口，利用接口的 <code>default</code> 方法扩展功能。</li><li>枚举类型内定义的枚举常量可以直接通过 == 进行比较，推荐使用 == 方法。</li><li>保存枚举常量时推荐使用 <code>EnumMap</code> 和 <code>EnumSet</code> 代替 <code>HashMap</code> 和 <code>HashSet</code>。</li></ol><blockquote><ol><li><a href=https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.9>https://docs.oracle.com/javase/specs/jls/se17/html/jls-8.html#jls-8.9</a></li><li><a href=https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html>https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html</a></li><li><a href=https://javarevisited.blogspot.com/2011/08/enum-in-java-example-tutorial.html#axzz7sctrlkdb>https://javarevisited.blogspot.com/2011/08/enum-in-java-example-tutorial.html#axzz7sctrlkdb</a></li><li>Effective Java, Third Edition</li></ol></blockquote></div><div class="row middle-xs"><div class=col-xs-12></div></div><div class=row><div class=col-xs-12></div></div><div style=height:50px></div><div class=site-footer></div></div></div></article><script></script></body></html>